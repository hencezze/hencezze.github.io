<p style="text-align: center;"><strong>Recover closed file</strong></p>
<p style="text-align: left;">For first you should to get sure: mounted procfs to /proc and installed in yours VM lsof</p>
<p style="text-align: left;">After you need to find file, whick you are searching: <em><span style="text-decoration: underline;">sudo lsof | grep filename</span></em></p>
<p style="text-align: left;">From this output you should to get 2 variables:</p>
<ol>
<li style="text-align: left;">Number of process (pid)</li>
<li style="text-align: left;">File descriptor (file descriptor)</li>
</ol>
<p>In example: <span style="text-decoration: underline;">kwin&nbsp;<strong>2031(pid)</strong>&nbsp;4002&nbsp;anton&nbsp;<strong>2(file descriptor)</strong>w REG 253,3 4486557 1835028 filename</span></p>
<p>And you copy this variables as a path to file: <em><span style="text-decoration: underline;">sudo cp /proc/2031/fd/2 /home/anton/.xsession-error</span></em></p>
<hr />
<p>Or if you want to get all files, which programm opened and still get opened</p>
<p>sudo lsof | grep filename and take&nbsp;<strong>pid</strong> from this output and grep "deleted" files</p>
<p>Or you may check opened files via this command: <em><span style="text-decoration: underline;">ls -lia /proc/2031/fd/</span></em>, but you still need to know&nbsp;<strong>pid</strong></p>
<p>&nbsp;</p>
<h1 style="text-align: center;"><strong>RunLevels</strong></h1>
<hr />
<p style="text-align: left;">For simple view of runlevels i pick CentOS as a instance OS, because in Ubuntu Runlevels probably worse built then CentOS:&nbsp;</p>
<table style="border-collapse: collapse; width: 100%; height: 144px;" border="1">
<tbody>
<tr style="height: 18px;">
<td style="width: 33.3333%; text-align: center; height: 18px;"><strong>RunLevel</strong></td>
<td style="width: 33.3333%; text-align: center; height: 18px;"><strong>Mode</strong></td>
<td style="width: 33.3333%; text-align: center; height: 18px;"><strong>Action</strong></td>
</tr>
<tr style="height: 18px;">
<td style="width: 33.3333%; height: 18px; text-align: center;">0</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Shutdown</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Shuts down system</td>
</tr>
<tr style="height: 18px;">
<td style="width: 33.3333%; height: 18px; text-align: center;">1</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Single-User Mode</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Maintainance mode</td>
</tr>
<tr style="height: 18px;">
<td style="width: 33.3333%; height: 18px; text-align: center;">2</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Multi-User Mode</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Not configure network interfaces</td>
</tr>
<tr style="height: 18px;">
<td style="width: 33.3333%; height: 18px; text-align: center;">3</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Multi-User Mode + network</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Start system normally, without GUI</td>
</tr>
<tr style="height: 18px;">
<td style="width: 33.3333%; height: 18px; text-align: center;">4</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">N/A</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Not used</td>
</tr>
<tr style="height: 18px;">
<td style="width: 33.3333%; height: 18px; text-align: center;">5</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">X11</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">As 3 runlevel + GUI</td>
</tr>
<tr style="height: 18px;">
<td style="width: 33.3333%; height: 18px; text-align: center;">6</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Reboot</td>
<td style="width: 33.3333%; height: 18px; text-align: center;">Reboot</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h1 style="text-align: center;">Cron Jobs/Background Jobs</h1>
<hr />
<p style="text-align: left;">If you want ti shedule a script in Linux, you may use crontab service either via crontab -e or shedule your script in daily, mounthly and etc in crontab file</p>
<ul>
<li style="text-align: left;">Via crontab -e</li>
</ul>
<p>&nbsp; &nbsp; &nbsp; &nbsp; You may manually add job into crontab, for instance 23 59 * * * for exec job every day on 23:59, but you can create a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; little pipeline like this:</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; <strong>crontab -l &gt; new_script # for backup already existing scheduled jobs</strong></p>
<p><strong>&nbsp; &nbsp; &nbsp; &nbsp; echo "0 */12 * * * $k8s_dir/provisioning/get_evicted_pods.sh" &gt;&gt; new_script # schedule a new job</strong><br /><strong>&nbsp; &nbsp; &nbsp; &nbsp; crontab new_script # Add into system cron</strong><br /><strong>&nbsp; &nbsp; &nbsp; &nbsp; rm new_script # deleting unwanted backup</strong></p>
<ul>
<li>&nbsp;Via crontab files</li>
</ul>
<p>&nbsp; &nbsp; &nbsp; &nbsp; sudo vi /etc/corn.daily/basckup for instance. Via this command you will create a backup named job, which will exec&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; every day</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; If you want troubleshoot some crontab error may use "<strong>grep CRON /var/log/syslog</strong>" for get a simple view about all&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; executed jobs</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; And for fin you able to run all daily/mounthly/... jobs via this command "<strong>sudo run-paths /etc/cron.daily/</strong>"</p>

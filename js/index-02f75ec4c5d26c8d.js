(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9545)}])},1151:function(e,t,n){"use strict";n.d(t,{$r:function(){return g},t3:function(){return p},wn:function(){return m}});var r=n(2253),i=n(4932),s=n(9729),a=n.n(s),o=n(6803),l=n.n(o),c=n(1035),u=n(3454),d={dataset:"production",projectId:"1vzz09ck",apiVersion:"2021-03-25",useCdn:!0},h=a()(d),p=l()(h);a()((0,i._)((0,r._)({},d),{useCdn:!1,token:u.env.SANITY_API_TOKEN}));var g=(0,c.KF)(d),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){return"block"===e._type&&e.children?e.children.map(function(e){return e.text}).join(""):""}).join("\n\n")};t.ZP=h},9545:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return q},default:function(){return G}});var r,i,s=n(2678),a=n(1010),o=n(8564),l=n(2267),c=n(5766),u=n(8007),d=n(2253),h=n(4932),p=n(7702),g=n(1309),m=n(3304),v=n(414),x=n(5893),f=n(7294),_=n(3935),w=n(5697),y=n.n(w),j=n(4184),b=n.n(j),R=n(4311),E=n(5152),P=n.n(E),M=n(2796),S=n.n(M),T=n(6030),N=n(4485),k=n(5304),C=n(1148),D=function(e){(0,u._)(i,e);var t=(0,m._)(i);function i(e){(0,o._)(this,i),(u=t.call(this,e)).textureCache={},u.resolvers={};var l,c,u,d=(0,s._)(u);u.setImages=(l=(0,a._)(function(e,t){var n;return(0,v.Jh)(this,function(i){switch(i.label){case 0:if(r)return[3,2];return[4,d.initialize()];case 1:i.sent(),i.label=2;case 2:return n=new Promise(function(e){d.setImagesResolver=function(){e(),d.setImagesResolver=null}}),d.textureASrc=e||d.transparent,d.textureBSrc=t||d.transparent,d.loadTexture(d.textureASrc),d.loadTexture(d.textureBSrc),[2,n]}})}),function(e,t){return l.apply(this,arguments)});var h=(0,s._)(u);u.animateTo=(c=(0,a._)(function(e){var t,n,s,a,o;return(0,v.Jh)(this,function(l){switch(l.label){case 0:if(r)return[3,2];return[4,h.initialize()];case 1:l.sent(),l.label=2;case 2:return n=(t=h.props).speedIn,s=t.speedOut,a=t.easing,h.animation&&h.animation.pause(),e===i.B?h.animation=(0,T.Z)({targets:h.mat.uniforms.dispFactor,value:1,duration:1e3*n,easing:a,update:h.renderScene,complete:function(){h.animation=null,o()}}):e===i.A&&(h.animation=(0,T.Z)({targets:h.mat.uniforms.dispFactor,value:0,duration:1e3*s,easing:a,update:h.renderScene,complete:function(){h.animation=null,o()}})),[2,new Promise(function(e){o=function(){e()}})]}})}),function(e){return c.apply(this,arguments)}),u.loadTexture=function(e,t){return u.textureCache[e]?(u.loadedTexture(),u.textureCache[e]):u.textureLoader.load(e,function(n){u.textureCache[e]=n,u.loadedTexture(),t&&t()})},u.setMatRatios=function(){var e=u.props,t=e.height,n=e.width;[["texture1",u.textureA],["texture2",u.textureB],["disp",u.disp]].forEach(function(e){var i=(0,g._)(e,2),s=i[0],a=i[1];a.wrapS=r.ClampToEdgeWrapping,a.minFilter=r.LinearFilter,a.magFilter=r.LinearFilter;var o=[1,1];if(null==a?void 0:a.image){if(t/n>a.image.height/a.image.width){var l=n*a.image.height/(t*a.image.width);a.repeat.set(l,1),o=[l,1]}else{var c=t*a.image.width/(n*a.image.height);a.repeat.set(1,c),o=[1,c]}}u.mat.uniforms["".concat(s,"Ratio")].value=o})},u.loadedTexture=function(){u.textureCache[u.textureASrc]&&u.textureCache[u.textureBSrc]&&(u.textureA=u.textureCache[u.textureASrc],u.textureB=u.textureCache[u.textureBSrc],u.setMatRatios(),u.mat.uniforms.dispFactor.value=0,u.mat.uniforms.texture1.value=u.textureA,u.mat.uniforms.texture2.value=u.textureB,u.renderScene(),u.setImagesResolver&&u.setImagesResolver()),u.renderScene()};var p=(0,s._)(u);return u.initialize=(0,a._)(function(){var e,t,i,s,a,o,l,c,u,d,h,g;return(0,v.Jh)(this,function(m){switch(m.label){case 0:return t=(e=p.props).width,i=e.height,s=e.imageA,a=e.imageB,o=e.displacementImage,l=e.intensityA,c=e.intensityB,u=e.angleA,d=e.angleB,h=e.onReady,[4,n.e(737).then(n.bind(n,2212))];case 1:return r=m.sent(),p.scene=new r.Scene,p.camera=new r.OrthographicCamera(-(t/2),t/2,i/2,-(i/2),1,1e3),p.camera.position.z=1,p.renderer=new r.WebGLRenderer({antialias:!0,alpha:!0}),p.renderer.setClearColor(16777215,0),p.renderer.setSize(t,i),p.renderer.setPixelRatio(window.devicePixelRatio),p.mount.current.appendChild(p.renderer.domElement),p.textureLoader=new r.TextureLoader,p.textureLoader.crossOrigin="",p.transparent="/assets/images/transparent.png",p.loadTexture(p.transparent,function(){p.textureA=s?p.loadTexture(s):p.textureCache[p.transparent],p.textureB=a?p.loadTexture(a):p.textureCache[p.transparent],h()}),p.disp=p.loadTexture(o),p.mat=new r.ShaderMaterial({uniforms:{intensity1:{type:"f",value:l},intensity2:{type:"f",value:c},dispFactor:{type:"f",value:0},angle1:{type:"f",value:u},angle2:{type:"f",value:d},texture1:{type:"t",value:p.textureA},texture1Ratio:{type:"v2",value:[1,1]},texture2:{type:"t",value:p.textureB},texture2Ratio:{type:"v2",value:[1,1]},disp:{type:"t",value:p.disp},dispRatio:{type:"v2",value:[1,1]}},vertexShader:"\n    varying vec2 vUv;\n    void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n",fragmentShader:"\n    varying vec2 vUv;\n    uniform float dispFactor;\n    uniform sampler2D disp;\n    uniform sampler2D texture1;\n    uniform sampler2D texture2;\n    uniform vec2 dispRatio;\n    uniform vec2 texture1Ratio;\n    uniform vec2 texture2Ratio;\n    uniform float angle1;\n    uniform float angle2;\n    uniform float intensity1;\n    uniform float intensity2;\n    mat2 getRotM(float angle) {\n        float s = sin(angle);\n        float c = cos(angle);\n        return mat2(c, -s, s, c);\n    }\n    void main() {\n        vec2 centerDisp = vec2((dispRatio.x / 2.0) - 0.5, (dispRatio.y / 2.0) - 0.5);\n        vec4 disp = texture2D(disp, (vUv * dispRatio) - centerDisp);\n        vec2 dispVec = vec2(disp.r, disp.g);\n\n        vec2 distortedPosition1 = vUv + getRotM(angle1) * dispVec * intensity1 * dispFactor;\n        vec2 center1 = vec2((texture1Ratio.x / 2.0) - 0.5, (texture1Ratio.y / 2.0) - 0.5);\n        vec4 _texture1 = texture2D(texture1, (distortedPosition1 * texture1Ratio) - center1);\n        \n        vec2 distortedPosition2 = vUv + getRotM(angle2) * dispVec * intensity2 * (1.0 - dispFactor);\n        vec2 center2 = vec2((texture2Ratio.x / 2.0) - 0.5, (texture2Ratio.y / 2.0) - 0.5);\n        vec4 _texture2 = texture2D(texture2, (distortedPosition2 * texture2Ratio) - center2);\n        gl_FragColor = mix(_texture1, _texture2, dispFactor);\n    }\n",transparent:!0,opacity:1}),g=new r.PlaneBufferGeometry(t,i,1),p.object=new r.Mesh(g,p.mat),p.scene.add(p.object),p.renderScene(),[2]}})}),u.renderScene=function(){u.renderer.render(u.scene,u.camera)},u.mount=(0,f.createRef)(),u}return(0,l._)(i,[{key:"componentDidUpdate",value:function(e){if(r&&this.renderer){var t=this.props,n=t.width,i=t.height,s=t.displacementImage;if(e.displacementImage!==s&&(this.disp=this.loadTexture(s),this.mat.uniforms.disp.value=this.disp),e.height!==i||e.width!==n){var a=this.mount.current,o=a.clientWidth,l=a.clientHeight;this.renderer.setSize(o,l),this.camera=new r.OrthographicCamera(-(o/2),o/2,l/2,-(l/2),1,1e3),this.camera.position.z=1,this.scene.remove(this.object);var c=new r.PlaneBufferGeometry(n,i,1);this.object=new r.Mesh(c,this.mat),this.scene.add(this.object)}this.renderScene()}}},{key:"componentWillUnmount",value:function(){r=null,this.renderer&&this.mount.current.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height;return(0,x.jsx)("div",{style:{width:t,height:n},ref:this.mount},"transition")}}]),i}(f.Component);D.A=0,D.B=1,D.propTypes={width:y().number.isRequired,height:y().number.isRequired,imageA:y().string,imageB:y().string,displacementImage:y().string.isRequired,intensityA:y().number,intensityB:y().number,angleA:y().number,angleB:y().number,speedIn:y().number,speedOut:y().number,easing:y().string,onReady:y().func},D.defaultProps={imageA:null,imageB:null,intensityA:.6,intensityB:.6,angleA:Math.PI/4,angleB:-(3*(Math.PI/4)),speedIn:1,speedOut:1,easing:"easeOutExpo",onReady:function(){return!1}};var A=n(1151),L=n(3919),B=n(441),O=n(863),I=n.n(O);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var V=function(e){return f.createElement("svg",z({width:69,height:42},e),i||(i=f.createElement("g",{transform:"translate(0 1)",fill:"none"},f.createElement("path",{d:"M64 24.243L68.243 20 64 15.757M5 24.243L.757 20 5 15.757"}),f.createElement("circle",{cx:35,cy:20,r:20}))))},W=function(e){var t=(0,g._)((0,f.useState)({isPlaying:!1,progress:0,speed:1,isMuted:!1}),2),n=t[0],r=t[1];return(0,f.useEffect)(function(){n.isPlaying?e.current.play():e.current.pause()},[n.isPlaying,e]),(0,f.useEffect)(function(){n.isMuted?e.current.muted=!0:e.current.muted=!1},[n.isMuted,e]),{playerState:n,togglePlay:function(){r((0,h._)((0,d._)({},n),{isPlaying:!n.isPlaying}))},handleOnTimeUpdate:function(){var t=e.current.currentTime/e.current.duration*100;r((0,h._)((0,d._)({},n),{progress:t,isPlaying:!e.current.paused}))},handleVideoProgress:function(t){var i=Number(t.target.value);e.current.currentTime=e.current.duration/100*i,r((0,h._)((0,d._)({},n),{progress:i}))},handleVideoSpeed:function(t){var i=Number(t.target.value);e.current.playbackRate=i,r((0,h._)((0,d._)({},n),{speed:i}))},toggleMute:function(){r((0,h._)((0,d._)({},n),{isMuted:!n.isMuted}))}}},U=n(7359),F=n.n(U),H=(0,f.forwardRef)(function(e,t){var n=e.src,r=e.width,i=e.height,s=e.className,a=(0,f.useRef)(null),o=(0,f.useRef)(null),l=W(a),c=l.playerState,u=l.togglePlay,d=l.handleOnTimeUpdate,h=l.handleVideoProgress,p=(l.handleVideoSpeed,l.toggleMute);return(0,f.useEffect)(function(){t.current=a.current},[t]),(0,f.useEffect)(function(){o.current.style.background="linear-gradient(to right, var(--c--planetary-red) ".concat(c.progress,"%, #fff4 ").concat(c.progress,"%)")},[c]),(0,x.jsxs)("div",{className:b()(F().video,s),children:[(0,x.jsxs)("video",{width:r,height:i,controls:!1,playsInline:!0,ref:a,onTimeUpdate:d,onClick:u,children:[n.map(function(e){var t=e.url,n=e.type;return(0,x.jsx)("source",{src:t,type:n},t)}),"Your browser does not support the video tag."]}),(0,x.jsxs)("div",{className:F().controls,children:[(0,x.jsx)("div",{className:F().actions,children:(0,x.jsx)("button",{className:F().play,onClick:u,children:c.isPlaying?(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 01.75-.75H9a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H7.5a.75.75 0 01-.75-.75V5.25zm7.5 0A.75.75 0 0115 4.5h1.5a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H15a.75.75 0 01-.75-.75V5.25z",clipRule:"evenodd"})}):(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"})})})}),(0,x.jsx)("input",{type:"range",min:"0",max:"100",step:"0.1",value:c.progress,ref:o,onChange:h,className:F().progress}),(0,x.jsx)("button",{className:F().mute,onClick:p,children:c.isMuted?(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,x.jsx)("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06zM17.78 9.22a.75.75 0 10-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 001.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 101.06-1.06L20.56 12l1.72-1.72a.75.75 0 00-1.06-1.06l-1.72 1.72-1.72-1.72z"})}):(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:[(0,x.jsx)("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06zM18.584 5.106a.75.75 0 011.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 11-1.06-1.06 8.25 8.25 0 000-11.668.75.75 0 010-1.06z"}),(0,x.jsx)("path",{d:"M15.932 7.757a.75.75 0 011.061 0 6 6 0 010 8.486.75.75 0 01-1.06-1.061 4.5 4.5 0 000-6.364.75.75 0 010-1.06z"})]})})]})]})});H.propTypes={src:y().arrayOf(y().shape({url:y().string.isRequired,type:y().string.isRequired})).isRequired,width:y().string,height:y().string,className:y().string},H.defaultProps={className:null,width:"100%",height:"90%"};var X=P()(function(){return Promise.all([n.e(286),n.e(827)]).then(n.bind(n,9286))},{loadableGenerated:{webpack:function(){return[9286]}}}),Y=P()(function(){return Promise.resolve().then(n.bind(n,1794))},{loadableGenerated:{webpack:function(){return[1794]}}}),Z=function(e){(0,u._)(n,e);var t=(0,m._)(n);function n(e){(0,o._)(this,n),(l=t.call(this,e)).state={projectActive:null,backgroundColor:null,dragging:!1,showDragger:!1,showHover:!1,showReel:!1,reelMini:!1,reelButtonScale:0},l.projects={};var r,i,l,c=(0,s._)(l);return l.animateProjectBackground=(r=(0,a._)(function(e){var t,n,r,i,s,a;return(0,v.Jh)(this,function(o){switch(o.label){case 0:if(c.unmounting)return[2];if(n=(t=c.state).projectActive,r=t.currentProjectImage,i=t.animating,s=c.props.projects,i)return[3,3];if((a=s[e]?A.t3.image(s[e].hero).url():null)===r)return[2];return c.setState({animating:!0}),[4,c.transition.current.setImages(r,a)];case 1:if(o.sent(),!c.transition.current)return[2];return[4,c.transition.current.animateTo(D.B)];case 2:o.sent(),c.setState({animating:!1,currentProjectImage:a},function(){var e=c.state.projectActive;e!==n&&c.animateProjectBackground(e)}),o.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),l.exit=(i=(0,a._)(function(e,t){return(0,v.Jh)(this,function(e){return document.body.style["overflow-x"]="hidden",(0,T.Z)({targets:t,opacity:0,duration:1e3,delay:3500,easing:"easeInOutQuad"}),[2]})}),function(e,t){return i.apply(this,arguments)}),l.isExiting=function(){return["exiting","exited"].includes(l.props.transitionStatus)},l.onElementEnter=function(){l.animateProjectBackground(null),l.setState({showHover:!0,projectActive:null,backgroundColor:"#23282e"})},l.onElementLeave=function(){l.setState({showHover:!1,backgroundColor:null})},l.onProjectEnter=function(e){return function(){if(!(l.scrolling||l.isExiting())){l.setState({projectActive:e}),clearTimeout(l.projectAnimate);var t=(0,s._)(l);l.projectAnimate=setTimeout((0,a._)(function(){return(0,v.Jh)(this,function(n){return t.animateProjectBackground(e),[2]})}),150)}}},l.onProjectLeave=function(){l.isExiting()||(clearTimeout(l.projectAnimate),l.setState({projectActive:null}))},l.onProjectListEnter=function(){l.setState({showDragger:!0})},l.onProjectListLeave=function(e){l.isExiting()||(l.onProjectLeave(),l.onProjectDragEnd(e),l.setState({showDragger:!1,projectActive:null}))},l.onProjectDragStart=function(e){l.isExiting()||(l.setState({showDragger:!0}),l.dragOrigin=e.clientX)},l.onProjectDrag=function(e){if(!l.isExiting()&&(l.state.showDragger||l.setState({showDragger:!0}),l.cursor.current.style.transform="\n            translate(\n                calc(".concat(e.clientX,"px - 50%),\n                calc(").concat(e.clientY,"px - 50%)\n            )\n        "),l.dragOrigin)){var t=l.dragOrigin-e.clientX,n=l.state.dragging;if(Math.abs(t)>10&&!n)l.setState({dragging:!0});else if(!n)return;e.preventDefault();var r=l.scrollbars.current.scrollLeft;l.scrollbars.current.scrollTo(0,Math.min(Math.max(0,r+t),l.scrollbars.current.contentEl.scrollWidth)),l.dragOrigin=e.clientX}},l.onProjectDragEnd=function(){l.isExiting()||(l.dragEndTimeout=setTimeout(function(){l.setState({dragging:!1}),l.dragOrigin=null},100))},l.checkDragging=function(e){l.state.dragging&&(e.preventDefault(),e.stopPropagation())},l.onMouseWheel=function(e){e.preventDefault(),e.stopPropagation();var t=S()(e),n=l.scrollbars.current.scrollLeft,r=Math.abs(t.pixelX)>Math.abs(t.pixelY)?"pixelX":"pixelY";l.scrollbars.current.scrollTo(0,n+t[r])},l.onPlayReel=function(){l.setState({reelButtonScale:2.25*window.innerWidth/244.8,showReel:!0,projectActive:null}),setTimeout(function(){l.reel.current.currentTime=0,l.reel.current.play()},500)},l.onCloseReel=function(e){l.reel.current.pause(),l.scrolling=!0,setTimeout(function(){l.reel.current.currentTime=0,l.scrolling=!1},500),l.setState({showReel:!1,projectActive:null}),l.cursor.current.style.transform="\n            translate(\n                calc(".concat(e.clientX,"px - 50%),\n                calc(").concat(e.clientY,"px - 50%)\n            )\n        ")},l.scrollbars=(0,f.createRef)(),l.transition=(0,f.createRef)(),l.cursor=(0,f.createRef)(),l.reel=(0,f.createRef)(),l}return(0,l._)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("wheel",this.onMouseWheel,{passive:!1}),this.intersectRatio=(0,L.rE)()?.5:.9,this.intersects=[],this.observer=new IntersectionObserver(function(t){if((0,L.rE)()){var n=e.state.projectActive;t.forEach(function(t){var n=t.target.idx?parseInt(t.target.idx,10):null;t.intersectionRatio>=e.intersectRatio&&!e.intersects.includes(n)?e.intersects.push(n):t.intersectionRatio<e.intersectRatio&&e.intersects.includes(n)&&e.intersects.splice(e.intersects.indexOf(n),1)}),e.intersects.length&&e.intersects[e.intersects.length-1]!==n?e.onProjectEnter(e.intersects[e.intersects.length-1])():e.intersects.length||(clearTimeout(e.projectAnimate),e.setState({projectActive:null}))}},{root:_.findDOMNode(this.contentArea),threshold:[this.intersectRatio]}),Object.entries(this.projects).forEach(function(t){var n=(0,g._)(t,2),r=n[0],i=n[1],s=_.findDOMNode(i);s.idx=r,e.observer.observe(s)});var t=_.findDOMNode(this.intro);this.observer.observe(t),this.observer.observe(_.findDOMNode(this.end)),this.reelObserver=new IntersectionObserver(function(t){t[0].isIntersecting?e.setState({reelMini:!1}):e.setState({reelMini:!0})},{root:_.findDOMNode(this.contentArea),threshold:[this.intersectRatio]}),this.reelObserver.observe(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.windowSize.windowWidth;e.windowSize.windowWidth!==t&&(this.intersectRatio=(0,L.rE)()?.5:.9)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,clearTimeout(this.dragEndTimeout),clearTimeout(this.projectAnimate),document.removeEventListener("wheel",this.onMouseWheel,{passive:!1}),this.observer.disconnect(),document.body.style["overflow-x"]=""}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.projects,i=n.baseUrl,s=n.windowSize,a=s.windowWidth,o=s.windowHeight,l=this.state,u=l.projectActive,g=l.showDragger,m=l.showHover,v=l.dragging,f=l.backgroundColor;return(0,x.jsxs)(N.Z,{hideFooter:!0,outerClassName:I().outer,children:[(0,x.jsx)(C.Z,{title:"Planetary | Digital Design & Product Engineering Studio in Brooklyn, NYC",baseUrl:i}),(0,x.jsx)("div",{ref:this.cursor,className:b()(I().cursor,(e={},(0,c._)(e,I().show,g),(0,c._)(e,I().hover,!v&&(null!==u||m)),e)),children:(0,x.jsx)(V,{})}),(0,x.jsxs)("div",{className:I().work,onMouseDown:this.onProjectDragStart,onMouseMove:this.onProjectDrag,onMouseUp:this.onProjectDragEnd,onMouseEnter:(0,L.b1)()?null:this.onProjectListEnter,onMouseLeave:(0,L.b1)()?null:this.onProjectListLeave,onDragStart:function(e){return e.preventDefault(),!1},draggable:!1,ref:function(e){t.contentArea=e},role:"presentation",children:[(0,x.jsxs)(R.Z,{noDefaultStyles:!0,className:I().scroller,momentum:!1,noScrollY:!(0,L.rE)(),trackYRenderer:function(e){var t=e.elementRef,n=(0,p._)(e,["elementRef"]);return(0,x.jsx)("div",(0,h._)((0,d._)({ref:t},n),{className:I().vTrack}))},thumbYRenderer:function(e){var t=e.elementRef,n=(0,p._)(e,["elementRef"]);return(0,x.jsx)("div",(0,h._)((0,d._)({ref:t},n),{className:I().vThumb}))},trackXRenderer:function(e){var n=e.elementRef,r=(0,p._)(e,["elementRef"]);return(0,x.jsx)("div",(0,h._)((0,d._)({ref:n},r),{className:I().hTrack,onMouseEnter:function(){t.setState({showDragger:!1})},onMouseLeave:function(){t.setState({showDragger:!0})}}))},thumbXRenderer:function(e){var t=e.elementRef,n=(0,p._)(e,["elementRef"]);return(0,x.jsx)("div",(0,h._)((0,d._)({ref:t},n),{className:I().hThumb}))},wrapperRenderer:function(e){var t=e.elementRef,n=(0,p._)(e,["elementRef"]);return(0,x.jsx)("div",(0,h._)((0,d._)({ref:t},n),{className:I().scrollerWrapper}))},contentRenderer:function(e){var t=e.elementRef,n=(0,p._)(e,["elementRef"]);return(0,x.jsx)("div",(0,h._)((0,d._)({ref:t},n),{className:b()(I().scrollerContent,(0,c._)({},I().hasActive,null!==u))}))},ref:this.scrollbars,children:[(0,x.jsx)("div",{className:b()(I().project,I().intro,(0,c._)({},I().exiting,this.isExiting())),ref:function(e){t.intro=e},children:(0,x.jsxs)("div",{className:I().wrap,children:[(0,x.jsxs)("h1",{children:["We are a digital ",(0,x.jsx)(X,{number:4,children:"impact"})," agency made for ",(0,x.jsx)(X,{number:3,children:"evolving"})," businesses."]}),(0,x.jsx)("div",{className:I().bottom,children:(0,x.jsxs)(k.Z,{to:"/about",onMouseEnter:this.onElementEnter,onMouseLeave:this.onElementLeave,prefetch:!1,children:["About Us",(0,x.jsx)(Y,{size:"1.5rem",color:"red",className:I().arrow})]})})]})}),r.map(function(e,n){var r;return(0,x.jsx)(k.Z,{to:"/project/[slug]",as:"/project/".concat(e.slug),className:b()(I().project,(r={},(0,c._)(r,I().active,u===n),(0,c._)(r,I().inactive,null!==u&&u!==n),(0,c._)(r,I().exiting,t.isExiting()),r)),ref:function(e){t.projects[n]=e},exit:{trigger:function(e){var n=e.exit,r=e.node;return t.exit(n,r)},length:5,zIndex:2},entry:{length:5},prefetch:!1,children:(0,x.jsxs)("div",{onClick:t.checkDragging,className:I().projectLink,onMouseEnter:(0,L.b1)()?null:t.onProjectEnter(n),onMouseLeave:(0,L.b1)()?null:t.onProjectLeave,children:[(0,x.jsx)("h3",{children:(0,x.jsx)("span",{children:e.subtitle})}),(0,x.jsx)("h2",{children:(0,x.jsx)("span",{children:e.title})}),(0,x.jsx)("p",{children:(0,x.jsx)("span",{children:e.summary})}),(0,x.jsx)("h4",{children:(0,x.jsxs)("span",{children:["View Case Study ",(0,x.jsx)(Y,{color:"red"})]})})]})},"project".concat(n))}),(0,x.jsx)("div",{className:b()(I().project,I().end,(0,c._)({},I().exiting,this.isExiting())),ref:function(e){t.end=e},children:(0,x.jsxs)("div",{className:I().wrap,children:[(0,x.jsx)(k.Z,{to:"/insights/1",onMouseEnter:this.onElementEnter,onMouseLeave:this.onElementLeave,prefetch:!1,children:(0,x.jsx)("span",{children:"Insights"})}),(0,x.jsx)(k.Z,{to:"/contact",onMouseEnter:this.onElementEnter,onMouseLeave:this.onElementLeave,prefetch:!1,children:(0,x.jsx)("span",{children:"Contact Us"})})]})})]},"scrollbars"),(0,x.jsxs)("div",{className:b()(I().reel,this.state.showReel&&I().open,this.state.reelMini&&I().mini,this.isExiting()&&I().exiting),style:{"--button-scale":this.state.reelButtonScale},children:[(0,x.jsxs)("div",{className:I().reelButton,onClick:this.onPlayReel,onMouseEnter:this.onElementEnter,onMouseLeave:this.onElementLeave,children:[(0,x.jsxs)("svg",{className:b()(I().reelTextWrapper,this.isExiting()&&I().exiting),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 240 240",width:"240",height:"240",children:[(0,x.jsxs)("defs",{children:[(0,x.jsx)("path",{d:"M243.2, 382.4c-74.8,    0-135.5-60.7-135.5-135.5s60.7-135.5,135.5-135.5s135.5, 60.7, 135.5, 135.5 S318, 382.4, 243.2, 382.4z"}),(0,x.jsx)("path",{d:"\n                                        M 25, 120\n                                        a 95,95 0 1,1 190,0\n                                        a 95,95 0 1,1 -190,0\n                                    ",id:"textcircle"})]}),(0,x.jsx)("text",{dy:"0",className:I().reelText,children:(0,x.jsxs)("textPath",{xlinkHref:"#textcircle",children:["Watch Reel \xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0 •\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0",new Date().getFullYear(),"\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0• \xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0 Planetary"]})})]}),(0,x.jsxs)("svg",{viewBox:"0 0 88 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:I().reelPlay,children:[(0,x.jsx)("circle",{opacity:".5",cx:"44",cy:"44",r:"44",fill:"#3C434D"}),(0,x.jsx)("path",{d:"M35.386 25.918 60.74 44 35.386 62.082V25.918Z",className:I().icon})]})]}),(0,x.jsx)("div",{className:I().reelExpando,children:(0,x.jsx)("div",{})})]})]}),(0,x.jsx)("div",{className:b()(I().background,this.isExiting()&&I().exiting),style:{background:f||null!==u&&r[u].primaryColor.hex,opacity:null!==f||null!==u?1:0},children:(0,x.jsx)(D,{width:a||0,height:o||0,ref:this.transition,displacementImage:"/assets/images/clouds.jpg"})}),(0,x.jsxs)("div",{className:b()(I().reelVideo,this.state.showReel&&I().open),children:[(0,x.jsx)("div",{onClick:this.onCloseReel,className:I().closeReel,children:(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"})})}),(0,x.jsx)(H,{ref:this.reel,src:[{url:"/assets/videos/reel.mp4",type:"video/mp4"},{url:"/assets/videos/reel.webm",type:"video/webm"}],className:I().reelVideoPlayer})]})]})}}]),n}(f.Component);Z.propTypes={projects:y().array.isRequired,baseUrl:y().string.isRequired,windowSize:y().shape({windowWidth:y().number,windowHeight:y().number}),transitionStatus:y().string.isRequired},Z.defaultProps={windowSize:{windowWidth:0,windowHeight:0}};var q=!0,G=(0,B.D)(Z)},7359:function(e){e.exports={video:"styles_video__UOnhj",controls:"styles_controls__RDY9V",progress:"styles_progress__60DB4",play:"styles_play__Fd3Xp",mute:"styles_mute__pN9ie"}},863:function(e){e.exports={outer:"styles_outer__I4dXd",background:"styles_background__PVoKh",exiting:"styles_exiting__uWwIf","blur-in-out-heavy":"styles_blur-in-out-heavy__56_Tp","blur-in-out-light":"styles_blur-in-out-light__yTxon",work:"styles_work__74g_F",scroller:"styles_scroller__7BM_Q",scrollerWrapper:"styles_scrollerWrapper__W7ofZ",scrollerContent:"styles_scrollerContent__U_aPK",cursor:"styles_cursor__g09Kq",hover:"styles_hover__sXQ51",show:"styles_show__Mz9_G",project:"styles_project__Y6kID",active:"styles_active___Efia",intro:"styles_intro___QbUf",wrap:"styles_wrap__3JDGE",bottom:"styles_bottom__Ml9Vw",arrow:"styles_arrow__shtmt",end:"styles_end__BI78O",projectLink:"styles_projectLink__3V0Yz",reel:"styles_reel__DrNX6",open:"styles_open__1L5yL",mini:"styles_mini__6qdBt",reelButton:"styles_reelButton__YWATL",reelTextWrapper:"styles_reelTextWrapper__4K0L2",spin:"styles_spin__Hjjhe",reelText:"styles_reelText__Xp6B8",reelPlay:"styles_reelPlay__KOAiY",icon:"styles_icon__001Py",reelExpando:"styles_reelExpando__G3fgy",reelVideo:"styles_reelVideo__Qd6_s",reelVideoPlayer:"styles_reelVideoPlayer__IH8Jb",closeReel:"styles_closeReel__gQ_Mp",inactive:"styles_inactive__qzjDK",hTrack:"styles_hTrack__6H4TW",hThumb:"styles_hThumb__S0h28",vTrack:"styles_vTrack__2NECr",vThumb:"styles_vThumb__V5mTo"}}},function(e){e.O(0,[372,863,829,310,814,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);